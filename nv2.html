<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Namma Vilambaram - Digital Marketing Agency</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .hero-bg {
            background-color: #f8fafc; /* bg-slate-50 */
            background-image: radial-gradient(circle at 10% 20%, rgba(56, 189, 248, 0.1), transparent 40%),
                              radial-gradient(circle at 90% 80%, rgba(99, 102, 241, 0.1), transparent 40%);
        }
        .modal-overlay {
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        
        /* Animation for elements scrolling into view */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-700">

    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-lg fixed top-0 left-0 right-0 z-50 border-b border-slate-200">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-slate-900">நம்ம விளம்பரம்</h1>
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="#services" class="text-slate-600 hover:text-blue-600 transition-colors duration-300">Services</a>
                <a href="#about" class="text-slate-600 hover:text-blue-600 transition-colors duration-300">About Us</a>
                <a href="#portfolio" class="text-slate-600 hover:text-blue-600 transition-colors duration-300">Portfolio</a>
                <a href="#contact" class="text-slate-600 hover:text-blue-600 transition-colors duration-300">Contact</a>
            </nav>
            <button id="open-modal-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-5 rounded-full shadow-lg shadow-blue-500/20 hover:shadow-blue-500/40 transition-all duration-300 transform hover:scale-105">
                Get Free AI Strategy
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <main id="home" class="hero-bg pt-40 pb-24">
        <div class="container mx-auto text-center px-6">
            <h2 class="text-4xl md:text-6xl font-extrabold text-slate-900 leading-tight mb-4 animate-on-scroll">
                Amplify Your Brand in the Digital World
            </h2>
            <p class="text-lg md:text-xl text-slate-600 max-w-3xl mx-auto mb-8 animate-on-scroll" style="transition-delay: 100ms;">
                Welcome to Namma Vilambaram! We are a results-driven digital marketing agency in Tamil Nadu, dedicated to helping local businesses shine online.
            </p>
            <div class="animate-on-scroll" style="transition-delay: 200ms;">
                <a href="#contact" class="bg-slate-900 text-white font-bold py-3 px-8 rounded-full hover:bg-slate-800 transition-all duration-300 text-lg transform hover:scale-105 inline-block">
                    Let's Get Started
                </a>
            </div>
        </div>
    </main>

    <!-- Services Section -->
    <section id="services" class="py-24 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h3 class="text-3xl md:text-4xl font-bold text-slate-900 animate-on-scroll">Our Expertise</h3>
                <p class="text-slate-600 mt-3 text-lg animate-on-scroll" style="transition-delay: 100ms;">We offer a complete suite of digital marketing services.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Service Cards with animation -->
                <div class="bg-slate-50 p-8 rounded-2xl transition-all duration-300 hover:shadow-2xl hover:shadow-slate-200/80 hover:-translate-y-2 animate-on-scroll">
                    <h4 class="text-2xl font-bold text-slate-900 mb-3">Search Engine Optimization</h4>
                    <p class="text-slate-600">Rank higher on Google and attract organic traffic with our proven SEO strategies.</p>
                </div>
                <div class="bg-slate-50 p-8 rounded-2xl transition-all duration-300 hover:shadow-2xl hover:shadow-slate-200/80 hover:-translate-y-2 animate-on-scroll" style="transition-delay: 100ms;">
                    <h4 class="text-2xl font-bold text-slate-900 mb-3">Social Media Marketing</h4>
                    <p class="text-slate-600">Engage your audience and build a strong brand presence on platforms like Instagram, Facebook, and YouTube.</p>
                </div>
                <div class="bg-slate-50 p-8 rounded-2xl transition-all duration-300 hover:shadow-2xl hover:shadow-slate-200/80 hover:-translate-y-2 animate-on-scroll" style="transition-delay: 200ms;">
                    <h4 class="text-2xl font-bold text-slate-900 mb-3">Content Marketing</h4>
                    <p class="text-slate-600">From blog posts to videos, we create compelling content that tells your story and drives action.</p>
                </div>
                <div class="bg-slate-50 p-8 rounded-2xl transition-all duration-300 hover:shadow-2xl hover:shadow-slate-200/80 hover:-translate-y-2 animate-on-scroll">
                    <h4 class="text-2xl font-bold text-slate-900 mb-3">Pay-Per-Click (PPC)</h4>
                    <p class="text-slate-600">Get instant visibility and targeted leads with expertly managed Google Ads and social media ad campaigns.</p>
                </div>
                <div class="bg-slate-50 p-8 rounded-2xl transition-all duration-300 hover:shadow-2xl hover:shadow-slate-200/80 hover:-translate-y-2 animate-on-scroll" style="transition-delay: 100ms;">
                    <h4 class="text-2xl font-bold text-slate-900 mb-3">Web Design & Development</h4>
                    <p class="text-slate-600">We build beautiful, fast, and user-friendly websites that convert visitors into customers.</p>
                </div>
                <div class="bg-slate-50 p-8 rounded-2xl transition-all duration-300 hover:shadow-2xl hover:shadow-slate-200/80 hover:-translate-y-2 animate-on-scroll" style="transition-delay: 200ms;">
                    <h4 class="text-2xl font-bold text-slate-900 mb-3">Local SEO</h4>
                    <p class="text-slate-600">Dominate local search results and connect with customers in your community.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Us Section -->
    <section id="about" class="py-24 bg-slate-50">
        <div class="container mx-auto px-6 flex flex-col md:flex-row items-center gap-12">
            <div class="md:w-1/2 animate-on-scroll">
                <img src="https://placehold.co/600x400/e2e8f0/3b82f6?text=Namma+Team" alt="Our Team" class="rounded-2xl shadow-2xl shadow-slate-300/60">
            </div>
            <div class="md:w-1/2 animate-on-scroll" style="transition-delay: 150ms;">
                <h3 class="text-3xl md:text-4xl font-bold text-slate-900">Your Local Digital Partners</h3>
                <p class="text-slate-600 mt-4 text-lg">"Namma Vilambaram" means "Our Advertisement" in Tamil. We chose this name because we see ourselves as an extension of your team. Our mission is to provide top-tier digital marketing solutions that are accessible and effective for businesses in Tamil Nadu and beyond. We understand the local market and combine it with global best practices.</p>
            </div>
        </div>
    </section>
    
    <!-- Portfolio Section -->
    <section id="portfolio" class="py-24 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h3 class="text-3xl md:text-4xl font-bold text-slate-900 animate-on-scroll">Our Success Stories</h3>
                <p class="text-slate-600 mt-3 text-lg animate-on-scroll" style="transition-delay: 100ms;">We've helped businesses of all sizes grow.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-2xl overflow-hidden shadow-xl shadow-slate-200/50 transition-all duration-300 hover:shadow-2xl hover:shadow-slate-300/70 hover:-translate-y-2 animate-on-scroll">
                    <img src="https://placehold.co/400x300/f1f5f9/1e293b?text=Project+1" class="w-full h-48 object-cover" alt="Portfolio Project 1">
                    <div class="p-6">
                        <h4 class="font-bold text-xl text-slate-900">Local Restaurant Chain</h4>
                        <p class="text-slate-600 mt-2">Increased online orders by 150% through targeted social media campaigns and local SEO.</p>
                    </div>
                </div>
                <div class="bg-white rounded-2xl overflow-hidden shadow-xl shadow-slate-200/50 transition-all duration-300 hover:shadow-2xl hover:shadow-slate-300/70 hover:-translate-y-2 animate-on-scroll" style="transition-delay: 150ms;">
                    <img src="https://placehold.co/400x300/f1f5f9/1e293b?text=Project+2" class="w-full h-48 object-cover" alt="Portfolio Project 2">
                    <div class="p-6">
                        <h4 class="font-bold text-xl text-slate-900">E-commerce Store</h4>
                        <p class="text-slate-600 mt-2">Achieved a 3x return on ad spend (ROAS) with strategic Google Shopping ads.</p>
                    </div>
                </div>
                <div class="bg-white rounded-2xl overflow-hidden shadow-xl shadow-slate-200/50 transition-all duration-300 hover:shadow-2xl hover:shadow-slate-300/70 hover:-translate-y-2 animate-on-scroll" style="transition-delay: 300ms;">
                    <img src="https://placehold.co/400x300/f1f5f9/1e293b?text=Project+3" class="w-full h-48 object-cover" alt="Portfolio Project 3">
                    <div class="p-6">
                        <h4 class="font-bold text-xl text-slate-900">Real Estate Agency</h4>
                        <p class="text-slate-600 mt-2">Generated 500+ qualified leads in 3 months via a new website and content marketing.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-24 bg-slate-50">
        <div class="container mx-auto px-6 text-center">
            <h3 class="text-3xl md:text-4xl font-bold text-slate-900 animate-on-scroll">Ready to Grow Your Business?</h3>
            <p class="text-slate-600 mt-4 text-lg max-w-2xl mx-auto animate-on-scroll" style="transition-delay: 100ms;">Let's talk! Contact us today for a free consultation and let's create a winning strategy for your brand.</p>
            <div class="animate-on-scroll" style="transition-delay: 200ms;">
                <button id="open-modal-btn-2" class="mt-8 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-full shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/50 transition-all duration-300 transform hover:scale-110 text-xl">
                    Get Your Free AI-Powered Strategy Now
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 py-8">
        <div class="container mx-auto px-6 text-center text-slate-500">
            <p>&copy; 2024 Namma Vilambaram. All Rights Reserved.</p>
            <p class="mt-2">Made with ❤️ in Tamil Nadu</p>
        </div>
    </footer>

    <!-- Gemini AI Modal -->
    <div id="ai-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="modal-content bg-white rounded-2xl shadow-2xl w-full max-w-2xl p-8 transform scale-95 opacity-0">
            <div class="flex justify-between items-center mb-6">
                <h4 class="text-2xl font-bold text-slate-900">AI-Powered Strategy Generator</h4>
                <button id="close-modal-btn" class="text-slate-400 hover:text-slate-800 text-3xl leading-none">&times;</button>
            </div>
            
            <div id="modal-form-view">
                <p class="text-slate-600 mb-6">Tell us about your business, and our AI will generate a custom digital marketing strategy outline for you in seconds!</p>
                <form id="ai-form">
                    <div class="mb-4">
                        <label for="business-type" class="block text-slate-700 font-semibold mb-2">What type of business do you have?</label>
                        <input type="text" id="business-type" placeholder="e.g., Local restaurant, Online clothing store" class="w-full bg-slate-100 border border-slate-300 rounded-lg px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" required>
                    </div>
                    <div class="mb-6">
                        <label for="business-goals" class="block text-slate-700 font-semibold mb-2">What are your main goals?</label>
                        <textarea id="business-goals" rows="4" placeholder="e.g., Increase website traffic, get more customers" class="w-full bg-slate-100 border border-slate-300 rounded-lg px-4 py-3 text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-500 transition" required></textarea>
                    </div>
                    <button type="submit" id="generate-strategy-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transition-all transform hover:scale-105">
                        Generate Strategy
                    </button>
                </form>
            </div>

            <div id="modal-loading-view" class="hidden text-center py-12">
                <div class="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-600 mx-auto"></div>
                <p class="mt-4 text-slate-800 text-lg">Our AI is crafting your strategy... Please wait.</p>
            </div>

            <div id="modal-results-view" class="hidden">
                 <h5 class="text-xl font-bold text-slate-900 mb-4">Your Custom Marketing Strategy Outline:</h5>
                 <div id="ai-results" class="bg-slate-100 p-6 rounded-lg max-h-96 overflow-y-auto text-slate-700 prose prose-slate">
                    <!-- AI results will be injected here -->
                 </div>
                 <button id="restart-btn" class="mt-6 w-full bg-slate-600 hover:bg-slate-700 text-white font-bold py-3 px-6 rounded-lg transition">Start Over</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- On-Scroll Animation Logic ---
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, {
                threshold: 0.1
            });

            const elementsToAnimate = document.querySelectorAll('.animate-on-scroll');
            elementsToAnimate.forEach(el => observer.observe(el));

            // --- Modal Control ---
            const aiModal = document.getElementById('ai-modal');
            const openModalBtn = document.getElementById('open-modal-btn');
            const openModalBtn2 = document.getElementById('open-modal-btn-2');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const modalContent = aiModal.querySelector('.modal-content');

            const openModal = () => {
                aiModal.classList.remove('opacity-0', 'pointer-events-none');
                modalContent.classList.remove('scale-95', 'opacity-0');
            };

            const closeModal = () => {
                modalContent.classList.add('scale-95', 'opacity-0');
                aiModal.classList.add('opacity-0');
                setTimeout(() => {
                    aiModal.classList.add('pointer-events-none');
                    showView('form'); // Reset view on close
                }, 300);
            };

            openModalBtn.addEventListener('click', openModal);
            openModalBtn2.addEventListener('click', openModal);
            closeModalBtn.addEventListener('click', closeModal);
            aiModal.addEventListener('click', (e) => {
                if (e.target === aiModal) {
                    closeModal();
                }
            });

            // --- View Management ---
            const formView = document.getElementById('modal-form-view');
            const loadingView = document.getElementById('modal-loading-view');
            const resultsView = document.getElementById('modal-results-view');

            function showView(viewName) {
                formView.classList.add('hidden');
                loadingView.classList.add('hidden');
                resultsView.classList.add('hidden');
                
                if (viewName === 'form') formView.classList.remove('hidden');
                else if (viewName === 'loading') loadingView.classList.remove('hidden');
                else if (viewName === 'results') resultsView.classList.remove('hidden');
            }

            // --- Form & API Logic ---
            const aiForm = document.getElementById('ai-form');
            const aiResultsContainer = document.getElementById('ai-results');
            const restartBtn = document.getElementById('restart-btn');

            aiForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                showView('loading');

                const businessType = document.getElementById('business-type').value;
                const businessGoals = document.getElementById('business-goals').value;

                const prompt = `
                    You are an expert digital marketing strategist for a Tamil Nadu-based agency called "Namma Vilambaram". 
                    A potential client has provided the following information:
                    - Business Type: ${businessType}
                    - Main Goals: ${businessGoals}

                    Generate a concise, actionable, and encouraging digital marketing strategy outline for this client. 
                    The tone should be professional yet friendly.
                    The output should be in Markdown format.
                    
                    Structure the strategy into the following sections:
                    1.  **Understanding Your Goals:** Briefly acknowledge their goals.
                    2.  **Phase 1: Foundation (First 30 Days):** Suggest 2-3 foundational steps. Examples: Local SEO setup (Google Business Profile), a basic social media presence, or a landing page audit.
                    3.  **Phase 2: Growth (Months 2-3):** Suggest 2-3 growth tactics. Examples: Content creation (blog posts, videos), targeted social media ads, or starting a local influencer collaboration.
                    4.  **Phase 3: Scaling (Months 4+):** Suggest 2-3 scaling strategies. Examples: SEO content amplification, expanding PPC campaigns, or email marketing automation.
                    5.  **Next Steps:** Conclude with an encouraging call to action to contact Namma Vilambaram for a detailed consultation.
                `;

                try {
                    const generatedText = await generateTextWithGemini(prompt);
                    let htmlContent = generatedText
                        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                        .replace(/(\d\.)/g, '<br><br>$1') 
                        .replace(/\n/g, '<br>');
                    aiResultsContainer.innerHTML = htmlContent;
                    showView('results');
                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    aiResultsContainer.innerHTML = `<p class="text-red-500">Sorry, we couldn't generate a strategy at this moment. Please try again later.</p>`;
                    showView('results');
                }
            });

            restartBtn.addEventListener('click', () => {
                aiForm.reset();
                showView('form');
            });

            // --- Gemini API Call with Exponential Backoff ---
            async function generateTextWithGemini(prompt, maxRetries = 3) {
                const apiKey = ""; // API key is handled by the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                
                const payload = {
                    contents: [{ role: "user", parts: [{ text: prompt }] }]
                };

                let attempt = 0;
                while (attempt < maxRetries) {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

                        const result = await response.json();

                        if (result.candidates?.[0]?.content?.parts?.[0]?.text) {
                            return result.candidates[0].content.parts[0].text;
                        } else {
                            throw new Error("Invalid response structure from API.");
                        }
                    } catch (error) {
                        console.error(`Attempt ${attempt + 1} failed:`, error.message);
                        attempt++;
                        if (attempt >= maxRetries) {
                            throw new Error("Max retries reached. Could not fetch from Gemini API.");
                        }
                        const delay = Math.pow(2, attempt) * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                    }
                }
            }
        });
    </script>
</body>
</html>
